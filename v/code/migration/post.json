{"cmd":"{\"class\":\"mutall\\\\migration\\\\extractor\",\"cargs\":[\"mutallco_rental\",{\"url\":\"http:\\\/\\\/localhost\\\/schema\\\/v\\\/code\\\/migration\\\/transmit.php\",\"username\":\"root\",\"password\":\"\"}],\"method\":\"execute\",\"margs\":[[{\"tname\":\"payment\",\"sql\":\"#\\r\\n#Select all changes from the payment table\\r\\nselect\\r\\n\\t#\\r\\n\\t#Start with the payment attributes\\r\\n\\tpayment.amount as payment_amount,\\r\\n\\tpayment.bank as payment_bank,\\r\\n\\tpayment.date as payment_date,\\r\\n\\tpayment.type as payment_type,\\r\\n\\tpayment.ref as payment_ref,\\r\\n\\tpayment.description as payment_description,\\r\\n\\t#\\r\\n\\t#Resolve the mandatory foreign keys to their constituent attributes by\\r\\n\\t#considering the primary identification index. Optional foreign keys are\\r\\n\\t#extracted differently\\r\\n\\tclient.name as client_name\\r\\nfrom\\r\\n\\t#\\r\\n\\t#Our main table\\r\\n\\tpayment\\r\\n\\t#\\r\\n\\t#include all tables needed to resolve the foreign keys\\r\\n\\tinner join client on client.client =payment.client\\r\\n\\t#\\r\\n\\t#Add the table for supporting filtering of the payments from the changes\\r\\n\\tinner join changes on changes.pk= payment.payment \\r\\nwhere changes.source  = \\\"payment\\\";\\r\\n\"},{\"tname\":\"wreading\",\"sql\":\"#select all changes in the wreading table.\\nselect \\n    wreading.date as wreading_date,\\n    wreading.value as wreading_value,\\n    #\\n    #Resolve the mandatory foreign keys \\n    wmeter.serial_no as wmeter_no\\nfrom\\n    wreading\\n    inner join wmeter on wreading.wmeter = wmeter.wmeter\\n    inner join changes on changes.pk = wreading.wreading\\nwhere changes.source = 'wreading'\"},{\"tname\":\"ebill\",\"sql\":\"select \\n    ebill.due_date as ebill_date,\\n    ebill.current_amount as ebill_amount,\\n    eaccount.num as eaccount_num\\nfrom \\n    ebill\\n    inner join eaccount on ebill.eaccount = eaccount.eaccount\\n    #\\n    #Add the table for supporting filtering of the payments from the changes\\n    inner join changes on changes.pk= ebill.ebill\\nwhere changes.source = 'ebill'\"},{\"tname\":\"agreement\",\"sql\":\"select \\n    agreement.start_date as agreement_startdate,\\n    agreement.duration as agreement_duration,\\n    agreement.valid as agreement_valid,\\n    agreement.comment as agreement_comment,\\n    agreement.terminated as agreement_terminated,\\n    agreement.review as agreement_review,\\n    agreement.amount as agreement_amount,\\n    room.uid as room_uid,\\n    client.name as client_name\\nfrom \\n    agreement\\n    inner join room on agreement.room = room.room\\n    inner join client on agreement.client = client.client\\n    #\\n    #Add the table for supporting filtering of the payments from the changes\\n    inner join changes on changes.pk= agreement.agreement\\nwhere changes.source = 'agreement'\"},{\"tname\":\"credit\",\"sql\":\"select \\n    credit.date as credit_date,\\n    credit.amount as credit_amount,\\n    credit.reason as credit_reason,\\n    client.name as client_name\\nfrom \\n    credit\\n    inner join client on credit.client = client.client\\n    #\\n    #Add the table for supporting filtering of the payments from the changes\\n    inner join changes on changes.pk= credit.credit\\nwhere changes.source = 'credit'\"},{\"tname\":\"debit\",\"sql\":\"select \\n    debit.date as debit_date,\\n    debit.amount as debit_amount,\\n    debit.reason as debit_reason,\\n    client.name as client_name\\nfrom \\n    debit\\n    inner join client on debit.client = client.client\\n    #\\n    #Add the table for supporting filtering of the payments from the changes\\n    inner join changes on changes.pk= debit.debit\\nwhere changes.source = 'debit'\"}]]}"}